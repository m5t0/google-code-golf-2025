p=lambda n:(s:=range(21),l:=min(i for i in s[2:]if all((a-b)*a*b<1for a,b in zip(n[0],n[0][i:]))),n:={(a%l,b%l):v for a in s for b in s if(v:=n[a][b])})and[[n[i%l,j%l]for j in s]for i in s]