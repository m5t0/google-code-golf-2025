p=lambda g,r=range(21):[[max(g,key=lambda V:(all(v[k]==V[k]for k in r if V[k]*v[k]),V[j]))[j]or 8for j in r]for v in g]