def p(g):r=range;f=lambda x,y:(0<=x<12)*(0<=y<12)and g[x][y];return[[g[i][j]or((a:=(h:=lambda t,u,v,d=1,i=i,j=j,s=1:max([f(i+k,j+k*t)|f(i*s+k*u,j+k*v)for k in r(-d,d+1)]))(0,0,1))>0)*(b:=h(1,1,-1,2))or a*(b<1)or b*(a+h(1,1,-1)<1)*any([f(i+2*k,j+k)&f(i+k,j+2*k)|f(i+2*k,j-k)&f(i+k,j-2*k) for k in r(-1,2)])for j in r(12)]for i in r(12)]