def p(a):n=len(a)-2;u=len(a[0])-2;[((t:=[a[e//n+s//3][c//u+s%3]for s in range(9)])==t[::-1])*t[4]*any(t[:4])*(t[4]==a[e%n+1][c%u+1]or sum(a[e%n+s//3][c%u+s%3]==t[s]for s in range(9))>7)and exec('for s in range(9):a[e%n+s//3][c%u+s%3]=t[s]')for e in range(n*n)for c in range(u*u)];return a