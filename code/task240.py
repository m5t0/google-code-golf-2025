def p(z,d=enumerate):z=[[max(a[e],a[~e],n[~r],z[~e][~r])for r,a in d(zip(*z))]for e,n in d(z)];return[[a[e]or sum(r&1and(19-e>r>e)*n[e-17]+(19-e<r<e)*n[e-2]for e,r,n in((e,r,n),(r,e,a)))for r,a in d(zip(*z))]for e,n in d(z)]