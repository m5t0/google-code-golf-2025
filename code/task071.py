p=lambda _,e=range(16):[[[i[(n,2*p-n+r)[i[n]==a]]for n in e]for i in _]for a in e if len({i[n]for i in _ for n in e if a in i if a in[*zip(*_)][n]})<2for r in(0,1)for p in e if all((i[n]!=a!=i[f]!=i[n])^1if(f:=2*p-n+r)in e else i[n]in(0,a)for i in _ for n in e)][0]