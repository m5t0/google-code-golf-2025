def p(e):c=max(e[0],key=e[0].count);f,=[f for a in(e,e[::-1])for l in range(len(e)-2)for t in range(len(e[0])-2)if len(set(f:=[a[l+c//3][t+c%3]for c in range(9)]))>3>0<c!=f[0]!=f[8]];[(r:=lambda f=c,l=c,e=c,*t:[f]*q+[l]*q+[e]*q)(r(f[0]),r(),r(e=f[8]))!=[a[l+c][t:[t+3*q*s,None][t+3*q*s<0]:s]for c in range(3*q)]or exec('for c in range(3*q):a[l+c][t:[t+3*q*s,None][t+3*q*s<0]:s]=r(*f[c//q*3:])')for q in range(4)for s in(1,-1)for l in range(len(e)-3*q+1)for t in range(len(e[0]))for a in(e,e[::-1])];return e