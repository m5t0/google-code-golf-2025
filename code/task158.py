def p(e):o=max(e[0],key=e[0].count);f,=[f for a in(e,e[::-1])for n in range(len(e)-2)for t in range(len(e[0])-2)if len(set(f:=[a[n+o//3][t+o%3]for o in range(9)]))>3>0<o!=f[0]!=f[8]];[(r:=lambda f=o,n=o,e=o,*t:[f]*u+[n]*u+[e]*u)(r(f[0]),r(),r(e=f[8]))!=[a[n+o][t:[t+3*u*s,None][t+3*u*s<0]:s]for o in range(3*u)]or exec('for o in range(3*u):a[n+o][t:[t+3*u*s,None][t+3*u*s<0]:s]=r(*f[o//u*3:])')for u in range(4)for s in(1,-1)for n in range(len(e)-3*u+1)for t in range(len(e[0]))for a in(e,e[::-1])];return e