import re
t="r[:]=zip(*eval(re.sub('%s',str(r)))"
s=t+"[::-1]);"
p=lambda r:exec(s%"[1-9]','1"+s%r"([^0]), 0(?=[^\)]+1)',r'\1, 4"*9+s%r"0(?=[, 0]*(4, )+1)','4"*9+(s*3+t+");")%(("0(?=(, 0.{%d})*, 4.{%d}1, 4)','4"%(len(r)*3+2,len(r)*3-2),)*4)*8+s%f"1','{sum({*sum(r,[])})}")or r