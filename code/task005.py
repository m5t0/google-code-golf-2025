def p(d,g=range(21)):o=lambda i:min(p for p in g if min(i[p:p+3]));r=o([*map(n:=max,d)]);t=o([*map(n,*d)]);e=lambda i:4*((i>0)-(i<0));return[[n(d[r+e(i:=(p-r)//4)+n//3][t+e(a:=(u-t)//4)+n%3]for n in g[:9])*(d[r+(p-r)%4][t+(u-t)%4]>=(i*i==a*a)|(i*a==0)>0)for u in g]for p in g]