def p(g):a=len(g+g[0])//3;b=a*any(8in s[:a]for s in g[:a]);r=range(a*a);return[[g[i%a-a+b][j%a-a+b]and g[i//a-b][j//a-b]for j in r]for i in r]