import re
s="g[:]=zip(*eval(re.sub(r'%s',str(g)))[::-1]);"
p=lambda g:exec((s%"([1-9])(?=, [1-9].{%d}[1-9])',r'\\1+1"+s%r"([1-9])(?=, ([^0\1]))',r'max(\1,\2)"*32)*2%(len(g[0])*3-2,len(g)*3-2)*2+s%r"([1-9])',r'1+(\1>5)+(\1==5)*5"+s%"','"*3)or g