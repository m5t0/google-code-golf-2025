def p(o):
 r=range;p,p=len(o),len(o[0]);[(f:=g,a:=m)for g in r(1,p-1)for m in r(1,p-1)if o[g-1][m-1]==o[g-1][m+1]==o[g+1][m-1]==o[g+1][m+1]==o[g][m]>0];return[[max(o[g][m],o[(k:=(2*f-g)%p)][m],o[g][(i:=(2*a-m)%p)],o[k][i])for m in r(p)]for g in r(p)]