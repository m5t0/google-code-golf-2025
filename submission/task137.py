def p(g,e=enumerate):x,(c,d),_=[(i,j)for i,v in e(g)for j,w in e(v)if w];f=lambda i,j:max(abs(i-c),abs(j-d));return[[(f(i,j)%f(*x)<1)*g[c][d]for j,_ in e(v)]for i,v in e(g)]