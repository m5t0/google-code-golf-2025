p=lambda g,e=enumerate:[[sum({*w[:i+1]}&{*w[i:]})or(sum({*v[:j+1]}&{*v[j:]}))for j,w in e(zip(*g))]for i,v in e(g)]