import re
p=lambda g:exec("g[:]=zip(*eval(re.sub('0(?=((.{32})*.{28}(...){,2}|..)2%s|2(?=%s','%d',str(g)))[::-1]);"%(a:=", [^0].{25}[^0])",a,sum({*sum(g,[])})-2)*4)or g