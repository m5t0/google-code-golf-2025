p=lambda g,e=enumerate:[[w[i]or((x:=(sum(w[i:])))%(b:=sum(w)/2)<(x*(a:=sum(v)/2)==(y:=sum(v[j:]))*b)>y%a)*(3-x/b)for j,w in e(zip(*g))]for i,v in e(g)]