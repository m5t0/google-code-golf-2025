def p(b):
 C=D=0
 for(E,B,F)in zip(b,b[1:],b[2:]):
  C+=4>max(B)
  for A in range(1,9):
   if B[A+1]/4*E[A]*F[A]*B[A-1]:B[A]=5+C;D+=C*2-1
 return[[(A>4)*(2-(A&1^(D<0)))or A for A in A]for A in b]