from pprint import *

# 最初の実装の空白を縮めたコード
def p(g):
 v=[0]*10
 for a in g[::-1]:
  for i in range(len(a))[::-1]:
    x,y=a[i],a[i - 1];v[x]=max(v[x],i)
    if i>0 and i<=v[y] and y>0:a[i],a[i - 1]=y,x
 return g

# 一番最初の実装
def p2(g):
    v=[0]*10
    for a in g[::-1]:
        for i in range(len(a))[::-1]:
            x,y=a[i],a[i-1]
            v[x]=max(v[x], i)
            if i>0 and i<=v[y] and y>0:
                a[i],a[i - 1]=y,x
    return g

# 配列vを用いない実装
def p3(g):
    c, v = 0, 0
    for a in g[::-1]:
        for i in range(len(a))[::-1]:
            x = a[i]
            if x > 0:
                if x != c:
                    c, v = x, 0
                v = max(v, i)
            if i > 0 and a[i-1]==c and i <= v and a[i - 1] > 0:
                a[i], a[i - 1] = a[i - 1], x
    return g

pprint(
    p(
        [
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 4, 4, 4, 4, 4, 4, 0, 0],
            [0, 4, 0, 0, 0, 0, 0, 4, 0],
            [0, 0, 4, 4, 4, 4, 4, 4, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 6, 6, 6, 6, 6, 6, 6, 0],
            [0, 6, 0, 0, 0, 0, 0, 0, 6],
            [0, 0, 6, 6, 6, 6, 6, 6, 6],
            [0, 0, 0, 0, 0, 0, 0, 0, 0],
        ]
        # [
        #     [0, 0, 0, 0, 0, 0, 0, 0, 0],
        #     [0, 6, 6, 6, 0, 0, 0, 0, 0],
        #     [0, 6, 0, 0, 6, 0, 0, 0, 0],
        #     [0, 0, 6, 0, 0, 6, 0, 0, 0],
        #     [0, 0, 0, 6, 0, 0, 6, 0, 0],
        #     [0, 0, 0, 0, 6, 6, 6, 0, 0],
        #     [0, 0, 0, 0, 0, 0, 0, 0, 0],
        #     [0, 0, 2, 2, 2, 0, 0, 0, 0],
        #     [0, 0, 2, 0, 0, 2, 0, 0, 0],
        #     [0, 0, 0, 2, 2, 2, 0, 0, 0],
        #     [0, 0, 0, 0, 0, 0, 0, 0, 0],
        #     [0, 0, 0, 0, 0, 0, 0, 0, 0],
        #     [0, 0, 0, 0, 0, 0, 0, 0, 0],
        #     [0, 0, 0, 0, 0, 0, 0, 0, 0],
        # ]
    )
)
